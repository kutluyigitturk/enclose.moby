<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>enclose.moby</title>

    <link rel="icon" type="image/png" href="data:image/png;base64,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"; >

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Schoolbell&display=swap" rel="stylesheet">

    <style>
    /* --- GENEL SAYFA STİLİ --- */
    body {
        margin: 0;
        padding: 0;
        background-color: #142e47;
        font-family: 'Schoolbell', cursive;
        color: #f0c040;
        height: 100dvh; 
        width: 100vw;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        align-items: center;
        user-select: none;
    }

    /* --- CANVAS --- */
    canvas {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 0;
        display: block;
        touch-action: none;
        image-rendering: pixelated;
    }

    /* --- BAŞLIK ALANI --- */
    .header-container {
        position: fixed; 
        top: 20px;
        left: 50%;
        transform: translateX(-50%);
        text-align: center;
        z-index: 1000;
        pointer-events: none;
        width: 90%; 
    }
    .title {
        font-family: 'Schoolbell', cursive;
        font-size: 26px;
        font-weight: 400;
        letter-spacing: 2px;
        color: #fff;
        line-height: 1.5;
        text-shadow: 2px 2px 0px #000;
    }
    .subtitle {
        font-family: 'Schoolbell', cursive;
        font-size: 20px;
        color: #f0c040;
        margin-top: 5px;
        letter-spacing: 1px;
        text-shadow: 1px 1px 0px #000;
    }

    /* --- KONTROLLER --- */
    .controls-container {
        position: fixed;
        bottom: 30px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 1000;
        pointer-events: none; 
    }

    /* --- BUTON STİLİ --- */
    #reset-btn {
        pointer-events: auto;
        font-family: 'Schoolbell', cursive;
        font-size: 18px;
        font-weight: bold;
        letter-spacing: 3px;
        background-color: #ffffff;
        color: black;
        border: 4px solid #000000;
        padding: 12px 30px;
        cursor: pointer;
        text-transform: uppercase;
        box-shadow: 6px 6px 0px #000000; 
        position: relative;
        transition: all 0.1s;
    }
    #reset-btn:hover { background-color: #f0c040; transform: translate(-2px, -2px); box-shadow: 8px 8px 0px #000000; }
    #reset-btn:active { transform: translate(4px, 4px); box-shadow: 2px 2px 0px #000000; }

    /* --- MENÜ KONTEYNERİ (Sağ Üst) --- */
    .menu-container {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 2000;
        display: flex;
        flex-direction: column;
        align-items: flex-end; /* Sağa yasla */
    }

    /* --- 3 ÇİZGİ BUTONU --- */
    .menu-icon-btn {
        background: transparent;
        color: #fff;
        border: none;
        font-size: 32px;
        cursor: pointer;
        padding: 5px;
        text-shadow: 2px 2px 0px #000;
        transition: transform 0.1s;
    }
    .menu-icon-btn:active { transform: scale(0.9); }

    /* --- DROPDOWN MENÜ (Butonun Altında Uzanır) --- */
    .dropdown-content {
        display: none; /* Varsayılan gizli */
        background-color: #fff;
        min-width: 160px;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        border: 2px solid #000;
        margin-top: 5px; /* Butonla arasında az boşluk */
        flex-direction: column;
    }
    
    /* Menü açıkken göster */
    .dropdown-content.show {
        display: flex;
    }

    .menu-item {
        padding: 12px 16px;
        text-decoration: none;
        display: block;
        background: none;
        border: none;
        border-bottom: 1px solid #ddd;
        font-family: 'Schoolbell', cursive;
        font-size: 18px;
        cursor: pointer;
        text-align: left;
        color: #000;
        width: 100%;
    }
    .menu-item:last-child { border-bottom: none; }
    .menu-item:hover { background-color: #f0c040; color: white; }

    /* --- LEVEL MODAL OVERLAY (Ekranın Ortası) --- */
    #modal-overlay {
        display: none; /* Gizli */
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background-color: rgba(0,0,0,0.5); /* Yarı saydam siyah */
        z-index: 2001;
        align-items: center; /* Dikey ortala */
        justify-content: center; /* Yatay ortala */
        backdrop-filter: blur(2px);
    }

    /* --- LEVEL MODAL KUTUSU --- */
    #level-selector-modal {
        background: #fff;
        width: 300px;
        border: 4px solid #000;
        box-shadow: 10px 10px 0px rgba(0,0,0,0.5);
        display: flex;
        flex-direction: column;
        max-height: 80vh;
    }

    .modal-header {
        background: #000;
        color: #fff;
        padding: 10px;
        font-size: 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    
    .close-modal-btn {
        background: #ff5252;
        border: 1px solid #fff;
        color: #fff;
        cursor: pointer;
        font-weight: bold;
    }

    .level-list {
        padding: 10px;
        background: #f1f1f1;
        overflow-y: auto;
    }

    .level-btn {
        width: 100%;
        padding: 10px;
        margin-bottom: 5px;
        background: #fff;
        border: 1px solid #ccc;
        cursor: pointer;
        font-family: 'Schoolbell', cursive;
        font-size: 16px;
        text-align: left;
    }
    .level-btn:hover { background: #66bb6a; color: white; }
    </style>
</head>
<body>

    <div class="header-container">
        <div class="title">enclose.moby</div>
        <div class="subtitle" id="level-name-display">Level 1</div>
    </div>

    <div class="menu-container">
        <button class="menu-icon-btn" onclick="toggleDropdown()">☰</button>
        
        <div id="dropdown-menu" class="dropdown-content">
            <button class="menu-item" onclick="openLevelSelector()">Past Puzzles</button>
            <button class="menu-item" onclick="toggleDropdown()">Resume</button>
        </div>
    </div>

    <div id="modal-overlay" onclick="closeLevelSelector()">
        <div id="level-selector-modal" onclick="event.stopPropagation()"> <div class="modal-header">
                <span>Past Puzzles</span>
                <button class="close-modal-btn" onclick="closeLevelSelector()">X</button>
            </div>
            <div class="level-list">
                <button class="level-btn" onclick="changeLevel(0)">1. Pathfinder</button>
                <button class="level-btn" onclick="changeLevel(1)">2. The Islands</button>
            </div>
        </div>
    </div>

    <canvas id="gameCanvas"></canvas>
    <div class="controls-container">
        <button id="reset-btn">Reset</button>
    </div>

    <script>
        // --- GLOBAL MENÜ YÖNETİMİ ---
        let currentLevelIndex = 0; 
        let loadLevelFunc = null;

        function openMainMenu() {
            document.getElementById('overlay').style.display = 'block';
            document.getElementById('main-menu-panel').style.display = 'block';
            document.getElementById('level-selector-modal').style.display = 'none';
        }

        function openLevelSelector() {
            document.getElementById('main-menu-panel').style.display = 'none';
            document.getElementById('level-selector-modal').style.display = 'flex';
        }

        function closeAllMenus() {
            document.getElementById('overlay').style.display = 'none';
            document.getElementById('main-menu-panel').style.display = 'none';
            document.getElementById('level-selector-modal').style.display = 'none';
        }

        function changeLevel(index) {
            currentLevelIndex = index;
            closeAllMenus();
            if (loadLevelFunc) loadLevelFunc();
        }

        // --- MENÜ YÖNETİMİ ---
        
        // 1. Dropdown Menüyü Aç/Kapa
        function toggleDropdown() {
            document.getElementById("dropdown-menu").classList.toggle("show");
        }

        // 2. Level Seçiciyi Aç (Past Puzzles)
        function openLevelSelector() {
            // Dropdown'ı kapat
            document.getElementById("dropdown-menu").classList.remove("show");
            // Modalı aç (CSS'te flex tanımlı olduğu için style.display='flex' yapıyoruz)
            document.getElementById("modal-overlay").style.display = "flex";
        }

        // 3. Level Seçiciyi Kapat
        function closeLevelSelector() {
            document.getElementById("modal-overlay").style.display = "none";
        }

        // 4. Level Değiştir
        function changeLevel(index) {
            currentLevelIndex = index;
            closeLevelSelector();
            if (loadLevelFunc) loadLevelFunc();
        }

        // Dışarı tıklayınca Dropdown'ı kapatma (Opsiyonel ama iyi olur)
        window.onclick = function(event) {
            if (!event.target.matches('.menu-icon-btn')) {
                var dropdowns = document.getElementsByClassName("dropdown-content");
                for (var i = 0; i < dropdowns.length; i++) {
                    var openDropdown = dropdowns[i];
                    if (openDropdown.classList.contains('show')) {
                        openDropdown.classList.remove('show');
                    }
                }
            }
        }

        window.onload = function() {
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');

        // Yükleme Ekranı
        ctx.fillStyle = "#142e47";
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = "#fff";
        ctx.font = "30px 'Schoolbell'";
        ctx.textAlign = "center";
        ctx.fillText("Yükleniyor...", window.innerWidth / 2, window.innerHeight / 2);

        // --- RESİM YÜKLEYİCİ ---
        function loadSprite(src, name) {
            return new Promise((resolve, reject) => {
                const img = new Image();
                img.onload = () => resolve(img);
                img.onerror = () => reject(new Error(name + " yüklenemedi"));
                img.src = src;
            });
        }

        // --- GLOBAL RESİMLER ---
        let mobyImg, waveImg, imgSingle, imgSide1, imgSide2, imgMiddle;
        let buoyFrames = [];

        // ==========================================
        // BURAYA KENDİ BASE64 KODLARINI YAPIŞTIR
        // ==========================================
        const srcMoby  = "data:image/png;base64,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"; 
        const srcWave  = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAKOmlDQ1BzUkdCIElFQzYxOTY2LTIuMQAASImdU3dYU3cXPvfe7MFKiICMsJdsgQAiI+whU5aoxCRAGCGGBNwDERWsKCqyFEWqAhasliF1IoqDgqjgtiBFRK3FKi4cfaLP09o+/b6vX98/7n2f8zvn3t9533MAaAEhInEWqgKQKZZJI/292XHxCWxiD6BABgLYAfD42ZLQKL9oAIBAXy47O9LfG/6ElwOAKN5XrQLC2Wz4/6DKl0hlAEg4ADgIhNl8ACQfADJyZRJFfBwAmAvSFRzFKbg0Lj4BANVQ8JTPfNqnnM/cU8EFmWIBAKq4s0SQKVDwTgBYnyMXCgCwEAAoyBEJcwGwawBglCHPFAFgrxW1mUJeNgCOpojLhPxUAJwtANCk0ZFcANwMABIt5Qu+4AsuEy6SKZriZkkWS0UpqTK2Gd+cbefiwmEHCHMzhDKZVTiPn86TCtjcrEwJT7wY4HPPn6Cm0JYd6Mt1snNxcrKyt7b7Qqj/evgPofD2M3se8ckzhNX9R+zv8rJqADgTANjmP2ILygFa1wJo3PojZrQbQDkfoKX3i35YinlJlckkrjY2ubm51iIh31oh6O/4nwn/AF/8z1rxud/lYfsIk3nyDBlboRs/KyNLLmVnS3h8Idvqr0P8rwv//h7TIoXJQqlQzBeyY0TCXJE4hc3NEgtEMlGWmC0S/ycT/2XZX/B5rgGAUfsBmPOtQaWXCdjP3YBjUAFL3KVw/XffQsgxoNi8WL3Rz3P/CZ+2+c9AixWPbFHKpzpuZDSbL5fmfD5TrCXggQLKwARN0AVDMAMrsAdncANP8IUgCINoiId5wIdUyAQp5MIyWA0FUASbYTtUQDXUQh00wmFohWNwGs7BJbgM/XAbBmEEHsM4vIRJBEGICB1hIJqIHmKMWCL2CAeZifgiIUgkEo8kISmIGJEjy5A1SBFSglQge5A65FvkKHIauYD0ITeRIWQM+RV5i2IoDWWiOqgJaoNyUC80GI1G56Ip6EJ0CZqPbkLL0Br0INqCnkYvof3oIPoYncAAo2IsTB+zwjgYFwvDErBkTIqtwAqxUqwGa8TasS7sKjaIPcHe4Ag4Bo6Ns8K54QJws3F83ELcCtxGXAXuAK4F14m7ihvCjeM+4Ol4bbwl3hUfiI/Dp+Bz8QX4Uvw+fDP+LL4fP4J/SSAQWARTgjMhgBBPSCMsJWwk7CQ0EU4R+gjDhAkikahJtCS6E8OIPKKMWEAsJx4kniReIY4QX5OoJD2SPcmPlEASk/JIpaR60gnSFdIoaZKsQjYmu5LDyALyYnIxuZbcTu4lj5AnKaoUU4o7JZqSRllNKaM0Us5S7lCeU6lUA6oLNYIqoq6illEPUc9Th6hvaGo0CxqXlkiT0zbR9tNO0W7SntPpdBO6Jz2BLqNvotfRz9Dv0V8rMZSslQKVBEorlSqVWpSuKD1VJisbK3spz1NeolyqfES5V/mJClnFRIWrwlNZoVKpclTlusqEKkPVTjVMNVN1o2q96gXVh2pENRM1XzWBWr7aXrUzasMMjGHI4DL4jDWMWsZZxgiTwDRlBjLTmEXMb5g9zHF1NfXp6jHqi9Qr1Y+rD7IwlgkrkJXBKmYdZg2w3k7RmeI1RThlw5TGKVemvNKYquGpIdQo1GjS6Nd4q8nW9NVM19yi2ap5VwunZaEVoZWrtUvrrNaTqcypblP5UwunHp56SxvVttCO1F6qvVe7W3tCR1fHX0eiU65zRueJLkvXUzdNd5vuCd0xPYbeTD2R3ja9k3qP2OpsL3YGu4zdyR7X19YP0Jfr79Hv0Z80MDWYbZBn0GRw15BiyDFMNtxm2GE4bqRnFGq0zKjB6JYx2ZhjnGq8w7jL+JWJqUmsyTqTVpOHphqmgaZLTBtM75jRzTzMFprVmF0zJ5hzzNPNd5pftkAtHC1SLSotei1RSydLkeVOy75p+Gku08TTaqZdt6JZeVnlWDVYDVmzrEOs86xbrZ/aGNkk2Gyx6bL5YOtom2Fba3vbTs0uyC7Prt3uV3sLe759pf01B7qDn8NKhzaHZ9Mtpwun75p+w5HhGOq4zrHD8b2Ts5PUqdFpzNnIOcm5yvk6h8kJ52zknHfBu3i7rHQ55vLG1clV5nrY9Rc3K7d0t3q3hzNMZwhn1M4Ydjdw57nvcR+cyZ6ZNHP3zEEPfQ+eR43HfU9DT4HnPs9RL3OvNK+DXk+9bb2l3s3er7iu3OXcUz6Yj79PoU+Pr5rvbN8K33t+Bn4pfg1+4/6O/kv9TwXgA4IDtgRcD9QJ5AfWBY4HOQctD+oMpgVHBVcE3w+xCJGGtIeioUGhW0PvzDKeJZ7VGgZhgWFbw+6Gm4YvDP8+ghARHlEZ8SDSLnJZZFcUI2p+VH3Uy2jv6OLo27PNZstnd8QoxyTG1MW8ivWJLYkdjLOJWx53KV4rXhTflkBMiEnYlzAxx3fO9jkjiY6JBYkDc03nLpp7YZ7WvIx5x+crz+fNP5KET4pNqk96xwvj1fAmFgQuqFowzufyd/AfCzwF2wRjQndhiXA02T25JPlhinvK1pSxVI/U0tQnIq6oQvQsLSCtOu1Velj6/vSPGbEZTZmkzKTMo2I1cbq4M0s3a1FWn8RSUiAZXOi6cPvCcWmwdF82kj03u03GlElk3XIz+Vr5UM7MnMqc17kxuUcWqS4SL+pebLF4w+LRJX5Lvl6KW8pf2rFMf9nqZUPLvZbvWYGsWLCiY6XhyvyVI6v8Vx1YTVmdvvqHPNu8krwXa2LXtOfr5K/KH17rv7ahQKlAWnB9ndu66vW49aL1PRscNpRv+FAoKLxYZFtUWvRuI3/jxa/svir76uOm5E09xU7FuzYTNos3D2zx2HKgRLVkScnw1tCtLdvY2wq3vdg+f/uF0uml1TsoO+Q7BstCytrKjco3l7+rSK3or/SubKrSrtpQ9WqnYOeVXZ67Gqt1qouq3+4W7b6xx39PS41JTelewt6cvQ9qY2q7vuZ8XbdPa1/Rvvf7xfsHD0Qe6Kxzrqur164vbkAb5A1jBxMPXv7G55u2RqvGPU2spqJDcEh+6NG3Sd8OHA4+3HGEc6TxO+PvqpoZzYUtSMvilvHW1NbBtvi2vqNBRzva3dqbv7f+fv8x/WOVx9WPF5+gnMg/8fHkkpMTpySnnpxOOT3cMb/j9pm4M9c6Izp7zgafPX/O79yZLq+uk+fdzx+74Hrh6EXOxdZLTpdauh27m39w/KG5x6mnpde5t+2yy+X2vhl9J654XDl91efquWuB1y71z+rvG5g9cON64vXBG4IbD29m3Hx2K+fW5O1Vd/B3Cu+q3C29p32v5kfzH5sGnQaPD/kMdd+Pun97mD/8+Kfsn96N5D+gPygd1Rute2j/8NiY39jlR3MejTyWPJ58UvCz6s9VT82efveL5y/d43HjI8+kzz7+uvG55vP9L6a/6JgIn7j3MvPl5KvC15qvD7zhvOl6G/t2dDL3HfFd2Xvz9+0fgj/c+Zj58eNv94Tz+8WoiUIAAAAJcEhZcwAACxMAAAsTAQCanBgAAADCSURBVGiB7djRacNAFAXR0eBuVIwbSTlpJMWkHuUvmIBhkSI7mfX5v4vgPhbtW7Zto0AiJEIiJEIiJEIiJEIiJOKyJ7Re377/az4/3pdHZadoRGYbrfXOSIyMypHsdI1IxHL7sLqt+qeR6u/lj2RH85lGpDha/5lESIRESIRESIRESIRESITMvHw4eymxJ59pRCIuRw84YymxZ0wzjUiEzPbUXU/YkIxesetAPtOIRCyvLcofIxESIRESIRE++wN+yxdipFdZf8rwogAAAABJRU5ErkJggg==";
        const srcGrass = "data:image/png;base64,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";

        // ŞAMANDIRA KARELERİ
        const srcBuoy0 = "data:image/png;base64,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"; // En Küçük (Başlangıç)
        const srcBuoy1 = "data:image/png;base64,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"; // Orta 1
        const srcBuoy2 = "data:image/png;base64,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"; // Orta 2
        const srcBuoy3 = "data:image/png;base64,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"; // Full Size (Bitiş)
        
        // TOPRAK KARELERİ
        const srcSingle = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAKOmlDQ1BzUkdCIElFQzYxOTY2LTIuMQAASImdU3dYU3cXPvfe7MFKiICMsJdsgQAiI+whU5aoxCRAGCGGBNwDERWsKCqyFEWqAhasliF1IoqDgqjgtiBFRK3FKi4cfaLP09o+/b6vX98/7n2f8zvn3t9533MAaAEhInEWqgKQKZZJI/292XHxCWxiD6BABgLYAfD42ZLQKL9oAIBAXy47O9LfG/6ElwOAKN5XrQLC2Wz4/6DKl0hlAEg4ADgIhNl8ACQfADJyZRJFfBwAmAvSFRzFKbg0Lj4BANVQ8JTPfNqnnM/cU8EFmWIBAKq4s0SQKVDwTgBYnyMXCgCwEAAoyBEJcwGwawBglCHPFAFgrxW1mUJeNgCOpojLhPxUAJwtANCk0ZFcANwMABIt5Qu+4AsuEy6SKZriZkkWS0UpqTK2Gd+cbefiwmEHCHMzhDKZVTiPn86TCtjcrEwJT7wY4HPPn6Cm0JYd6Mt1snNxcrKyt7b7Qqj/evgPofD2M3se8ckzhNX9R+zv8rJqADgTANjmP2ILygFa1wJo3PojZrQbQDkfoKX3i35YinlJlckkrjY2ubm51iIh31oh6O/4nwn/AF/8z1rxud/lYfsIk3nyDBlboRs/KyNLLmVnS3h8Idvqr0P8rwv//h7TIoXJQqlQzBeyY0TCXJE4hc3NEgtEMlGWmC0S/ycT/2XZX/B5rgGAUfsBmPOtQaWXCdjP3YBjUAFL3KVw/XffQsgxoNi8WL3Rz3P/CZ+2+c9AixWPbFHKpzpuZDSbL5fmfD5TrCXggQLKwARN0AVDMAMrsAdncANP8IUgCINoiId5wIdUyAQp5MIyWA0FUASbYTtUQDXUQh00wmFohWNwGs7BJbgM/XAbBmEEHsM4vIRJBEGICB1hIJqIHmKMWCL2CAeZifgiIUgkEo8kISmIGJEjy5A1SBFSglQge5A65FvkKHIauYD0ITeRIWQM+RV5i2IoDWWiOqgJaoNyUC80GI1G56Ip6EJ0CZqPbkLL0Br0INqCnkYvof3oIPoYncAAo2IsTB+zwjgYFwvDErBkTIqtwAqxUqwGa8TasS7sKjaIPcHe4Ag4Bo6Ns8K54QJws3F83ELcCtxGXAXuAK4F14m7ihvCjeM+4Ol4bbwl3hUfiI/Dp+Bz8QX4Uvw+fDP+LL4fP4J/SSAQWARTgjMhgBBPSCMsJWwk7CQ0EU4R+gjDhAkikahJtCS6E8OIPKKMWEAsJx4kniReIY4QX5OoJD2SPcmPlEASk/JIpaR60gnSFdIoaZKsQjYmu5LDyALyYnIxuZbcTu4lj5AnKaoUU4o7JZqSRllNKaM0Us5S7lCeU6lUA6oLNYIqoq6illEPUc9Th6hvaGo0CxqXlkiT0zbR9tNO0W7SntPpdBO6Jz2BLqNvotfRz9Dv0V8rMZSslQKVBEorlSqVWpSuKD1VJisbK3spz1NeolyqfES5V/mJClnFRIWrwlNZoVKpclTlusqEKkPVTjVMNVN1o2q96gXVh2pENRM1XzWBWr7aXrUzasMMjGHI4DL4jDWMWsZZxgiTwDRlBjLTmEXMb5g9zHF1NfXp6jHqi9Qr1Y+rD7IwlgkrkJXBKmYdZg2w3k7RmeI1RThlw5TGKVemvNKYquGpIdQo1GjS6Nd4q8nW9NVM19yi2ap5VwunZaEVoZWrtUvrrNaTqcypblP5UwunHp56SxvVttCO1F6qvVe7W3tCR1fHX0eiU65zRueJLkvXUzdNd5vuCd0xPYbeTD2R3ja9k3qP2OpsL3YGu4zdyR7X19YP0Jfr79Hv0Z80MDWYbZBn0GRw15BiyDFMNtxm2GE4bqRnFGq0zKjB6JYx2ZhjnGq8w7jL+JWJqUmsyTqTVpOHphqmgaZLTBtM75jRzTzMFprVmF0zJ5hzzNPNd5pftkAtHC1SLSotei1RSydLkeVOy75p+Gku08TTaqZdt6JZeVnlWDVYDVmzrEOs86xbrZ/aGNkk2Gyx6bL5YOtom2Fba3vbTs0uyC7Prt3uV3sLe759pf01B7qDn8NKhzaHZ9Mtpwun75p+w5HhGOq4zrHD8b2Ts5PUqdFpzNnIOcm5yvk6h8kJ52zknHfBu3i7rHQ55vLG1clV5nrY9Rc3K7d0t3q3hzNMZwhn1M4Ydjdw57nvcR+cyZ6ZNHP3zEEPfQ+eR43HfU9DT4HnPs9RL3OvNK+DXk+9bb2l3s3er7iu3OXcUz6Yj79PoU+Pr5rvbN8K33t+Bn4pfg1+4/6O/kv9TwXgA4IDtgRcD9QJ5AfWBY4HOQctD+oMpgVHBVcE3w+xCJGGtIeioUGhW0PvzDKeJZ7VGgZhgWFbw+6Gm4YvDP8+ghARHlEZ8SDSLnJZZFcUI2p+VH3Uy2jv6OLo27PNZstnd8QoxyTG1MW8ivWJLYkdjLOJWx53KV4rXhTflkBMiEnYlzAxx3fO9jkjiY6JBYkDc03nLpp7YZ7WvIx5x+crz+fNP5KET4pNqk96xwvj1fAmFgQuqFowzufyd/AfCzwF2wRjQndhiXA02T25JPlhinvK1pSxVI/U0tQnIq6oQvQsLSCtOu1Velj6/vSPGbEZTZmkzKTMo2I1cbq4M0s3a1FWn8RSUiAZXOi6cPvCcWmwdF82kj03u03GlElk3XIz+Vr5UM7MnMqc17kxuUcWqS4SL+pebLF4w+LRJX5Lvl6KW8pf2rFMf9nqZUPLvZbvWYGsWLCiY6XhyvyVI6v8Vx1YTVmdvvqHPNu8krwXa2LXtOfr5K/KH17rv7ahQKlAWnB9ndu66vW49aL1PRscNpRv+FAoKLxYZFtUWvRuI3/jxa/svir76uOm5E09xU7FuzYTNos3D2zx2HKgRLVkScnw1tCtLdvY2wq3vdg+f/uF0uml1TsoO+Q7BstCytrKjco3l7+rSK3or/SubKrSrtpQ9WqnYOeVXZ67Gqt1qouq3+4W7b6xx39PS41JTelewt6cvQ9qY2q7vuZ8XbdPa1/Rvvf7xfsHD0Qe6Kxzrqur164vbkAb5A1jBxMPXv7G55u2RqvGPU2spqJDcEh+6NG3Sd8OHA4+3HGEc6TxO+PvqpoZzYUtSMvilvHW1NbBtvi2vqNBRzva3dqbv7f+fv8x/WOVx9WPF5+gnMg/8fHkkpMTpySnnpxOOT3cMb/j9pm4M9c6Izp7zgafPX/O79yZLq+uk+fdzx+74Hrh6EXOxdZLTpdauh27m39w/KG5x6mnpde5t+2yy+X2vhl9J654XDl91efquWuB1y71z+rvG5g9cON64vXBG4IbD29m3Hx2K+fW5O1Vd/B3Cu+q3C29p32v5kfzH5sGnQaPD/kMdd+Pun97mD/8+Kfsn96N5D+gPygd1Rute2j/8NiY39jlR3MejTyWPJ58UvCz6s9VT82efveL5y/d43HjI8+kzz7+uvG55vP9L6a/6JgIn7j3MvPl5KvC15qvD7zhvOl6G/t2dDL3HfFd2Xvz9+0fgj/c+Zj58eNv94Tz+8WoiUIAAAAJcEhZcwAACxMAAAsTAQCanBgAAADjSURBVGiB3do9SsNBEEDxl4fYSCwUu4CN2FhZiKV4Bk/h4TyIlVUqbYR0EgvFxkYrw9+QoAFBeL9qlp39gBm22tHZ9cUHARIhERIhERIhERIhERIhERIhERIhERIhERIhERIhERIhERIhERIhERIhERIhERIhERIhERIhERIhERIhEVubLpjPZt/G49unRbx9dboyb5hzsreziO8vj388YzxYu+z1/KBXEYkYDf+ivN/crWyB6fPb2g1+kzfM2dR0sOewdbMVkWJrzZdepC8vj0f8l93Dh7Vz+5NJryL+9wX+yieOcSitkTiOigAAAABJRU5ErkJggg=="; // GrassSingleBottom.png
        const srcSide1  = "data:image/png;base64,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"; // GrassSidebySide1.png
        const srcSide2  = "data:image/png;base64,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"; // GrassSidebySide2.png
        const srcMiddle = "data:image/png;base64,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"; // GrassMiddle.png
        // ==========================================

        Promise.all([
            loadSprite(srcMoby, "Moby"), loadSprite(srcWave, "Wave"),
            loadSprite(srcBuoy0, "Buoy0"), loadSprite(srcBuoy1, "Buoy1"),
            loadSprite(srcBuoy2, "Buoy2"), loadSprite(srcBuoy3, "Buoy3"),
            loadSprite(srcSingle, "GrassSingle"), loadSprite(srcSide1, "GrassSide1"),
            loadSprite(srcSide2, "GrassSide2"), loadSprite(srcMiddle, "GrassMiddle")
        ]).then((images) => {
            mobyImg = images[0]; waveImg = images[1];
            buoyFrames = [images[2], images[3], images[4], images[5]];
            imgSingle = images[6]; imgSide1 = images[7];
            imgSide2 = images[8]; imgMiddle = images[9];
            
            console.log("Tüm görseller hazır!");
            initLevel();
        }).catch(e => {
            console.error(e);
            initLevel(); 
        });

        const buoy0 = new Image();
        const buoy1 = new Image();
        const buoy2 = new Image();
        const buoy3 = new Image();

        buoy0.onload = () => { buoyFrames[0] = buoy0; };
        buoy1.onload = () => { buoyFrames[1] = buoy1; };
        buoy2.onload = () => { buoyFrames[2] = buoy2; };
        buoy3.onload = () => { buoyFrames[3] = buoy3; };

        buoy0.src = srcBuoy0;
        buoy1.src = srcBuoy1;
        buoy2.src = srcBuoy2;
        buoy3.src = srcBuoy3;

        const wallSpawnTimes = {}; 
        const resetBtn = document.getElementById('reset-btn');

        // Başlangıçta değer atamıyoruz, harita yüklenince dolacaklar
        let COLS, ROWS;
        let TILE = 50; 
        
        let grid = [];
        let playerWalls = [];
        let mobyPos = { x: 9, y: 7 };
        let offsetX = 0; 
        let offsetY = 0;
        let waves = [];
        let hoverPos = { x: -1, y: -1 };
        
        let gameWon = false; 
        let winningPath = null; 
        let winAlpha = 0;       
        let finalScore = 0; 
        let currentMaxWalls = 10;

        // --- SEVİYE VERİLERİ ---
        const levels = [
            {
                name: "Pathfinder",
                maxWalls: 10,
                map: [
                    [1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1],
                    [1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1],
                    [0, 0, 1, 0, 1, 0, 0, 0, 1, 1, 1, 0, 0, 1, 0, 0, 1, 1, 1],
                    [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 1],
                    [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0],
                    [0, 0, 0, 0, 1, 1, 1, 0, 1, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0],
                    [1, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0],
                    [0, 0, 0, 0, 1, 1, 1, 0, 0, 3, 0, 0, 0, 0, 0, 0, 1, 0, 0],
                    [0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 1],
                    [0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 1],
                    [0, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 1],
                    [0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
                    [1, 0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1],
                    [0, 0, 1, 1, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1],
                    [0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 1, 0, 0, 1, 1]
                ]
            },
            {
                name: "Squares",
                maxWalls: 14,
                map: [
                    [0, 0, 1, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
                    [0, 0, 1, 0, 1, 0, 0, 0, 1, 1, 1, 1, 0, 1, 1, 0, 0],
                    [1, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 1, 1, 0, 0],
                    [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 1],
                    [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 1],
                    [1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
                    [1, 1, 1, 1, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                    [1, 1, 1, 1, 0, 1, 1, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0],
                    [1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 1, 1, 0],
                    [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 1, 1, 0],
                    [0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                    [1, 1, 0, 0, 1, 1, 1, 0, 1, 0, 3, 0, 0, 0, 0, 0, 0],
                    [1, 1, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1],
                    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                    [1, 0, 0, 1, 1, 0, 0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1],
                    [0, 0, 0, 1, 1, 0, 0, 1, 0, 1, 0, 0, 0, 1, 1, 1, 1],
                    [1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1]
                ]

            }
        ];

        function initLevel() {
            ctx.imageSmoothingEnabled = false;
            loadLevelFunc = initLevel;

            // 1. Level Verisini Çek
            const currentLevelData = levels[currentLevelIndex];
            const currentMap = currentLevelData.map;

            currentMaxWalls = currentLevelData.maxWalls || 10;
            
            ROWS = currentMap.length;
            COLS = currentMap[0].length;

            const titleEl = document.querySelector('.subtitle');
            if (titleEl) titleEl.textContent = "Level " + (currentLevelIndex + 1) + " - " + currentLevelData.name;
            
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            // --- YENİ VE KESİN HESAPLAMA ---
            
            // A) Üst ve Alt Panellerin Kapladığı "Gerçek" Alanı Ölç
            const headerEl = document.querySelector('.header-container');
            const footerEl = document.querySelector('.controls-container');
            
            // Header yüksekliği + üst boşluk (yoksa varsayılan 120px)
            const headerZone = headerEl ? (headerEl.offsetTop + headerEl.offsetHeight + 10) : 120;
            
            // Footer yüksekliği + alt boşluk (CSS'de bottom:30px verdik, onu da ekliyoruz)
            // Butonun yüksekliği (~50) + alttan boşluk (30) + güvenlik payı (20) = ~100px
            const footerZone = footerEl ? (footerEl.offsetHeight + 50) : 100;

            // B) Oyun İçin Kalan Güvenli Yükseklik
            const safeWidth = canvas.width - 20; // Sağdan soldan 10'ar px pay
            const safeHeight = canvas.height - headerZone - footerZone;

            // C) TILE Boyutunu Bu Güvenli Alana Göre Hesapla
            // Haritayı bu alana sığdıracak en büyük kare boyutunu bul
            const tileByW = Math.floor(safeWidth / COLS);
            const tileByH = Math.floor(safeHeight / ROWS);
            
            // En küçük olanı seç ki taşma olmasın
            TILE = Math.min(tileByW, tileByH);

            // Sınırlandırma: Çok küçük veya çok büyük olmasın (ama asla taşmasın)
            // Eğer sığmıyorsa 15px'e kadar küçülsün, yer varsa 60px'e kadar büyüsün
            TILE = Math.max(15, Math.min(60, TILE));

            // D) Haritayı Ortala (Ama Header'ın Altından Başlat)
            const mapW = COLS * TILE;
            const mapH = ROWS * TILE;

            offsetX = Math.floor((canvas.width - mapW) / 2);
            
            // Dikeyortalama: Header alanı + (Kalan boşlukta ortalama)
            // Eğer alan negatifse (çok küçük ekran), direkt header'ın altına yapıştır.
            const remainingH = safeHeight - mapH;
            offsetY = headerZone + (remainingH > 0 ? remainingH / 2 : 0);

            // ------------------------------------

            grid = [];
            playerWalls = [];
            gameWon = false; 
            winningPath = null;
            winAlpha = 0;
            finalScore = 0;
            
            for (let key in wallSpawnTimes) delete wallSpawnTimes[key];

            for(let y = 0; y < ROWS; y++) {
                let row = [];
                for(let x = 0; x < COLS; x++) {
                    let val = (currentMap[y] && currentMap[y][x] !== undefined) ? currentMap[y][x] : 0;
                    if (val === 3) mobyPos = {x, y};
                    row.push(val);
                }
                grid.push(row);
            }
            generateWaves();
            draw();
        }

        function generateWaves() {
            waves = [];
            const totalCols = Math.ceil(canvas.width / TILE) + 2;
            const totalRows = Math.ceil(canvas.height / TILE) + 2;
            const shiftX = offsetX % TILE;
            const shiftY = offsetY % TILE;

            const gameLeft = offsetX;
            const gameRight = offsetX + (COLS * TILE);
            const gameTop = offsetY;
            const gameBottom = offsetY + (ROWS * TILE);

            const outerTargetCount = 150; 
            for(let i = 0; i < outerTargetCount; i++) {
                const rC = Math.floor(Math.random() * totalCols);
                const rR = Math.floor(Math.random() * totalRows);
                const wX = (rC * TILE) + shiftX - TILE;
                const wY = (rR * TILE) + shiftY - TILE;

                if (wX >= gameLeft && wX < gameRight && wY >= gameTop && wY < gameBottom) {
                    i--; continue; 
                }
                waves.push({ px: wX, py: wY });
            }

            const innerTargetCount = 20; 
            for(let i = 0; i < innerTargetCount; i++) {
                const rC = Math.floor(Math.random() * COLS);
                const rR = Math.floor(Math.random() * ROWS);
                if (grid[rR][rC] === 0) { 
                    waves.push({
                        px: (rC * TILE) + offsetX, 
                        py: (rR * TILE) + offsetY
                    });
                }
            }
        }

        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // 1. OKYANUS
            ctx.fillStyle = "#142e47";
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // 2. DALGALAR
            if (waveImg) {
                ctx.globalAlpha = 0.6; 
                for (let w of waves) {
                    ctx.drawImage(waveImg, w.px, w.py, TILE, TILE);
                }
                ctx.globalAlpha = 1.0;
            }

            const currentTime = Date.now(); 

            if (gameWon && winningPath) {
                if (winAlpha < 0.6) {
                    winAlpha += 0.01; 
                    if(winAlpha > 0.6) winAlpha = 0.6;
                }
            }

            // 3. HARİTA DÖNGÜSÜ
            for (let y = 0; y < ROWS; y++) {
                for (let x = 0; x < COLS; x++) {
                    let px = x * TILE + offsetX;
                    let py = y * TILE + offsetY;

                    // A) KAZANMA EFEKTİ
                    if (winningPath && winningPath[y][x] && (grid[y][x] === 0 || grid[y][x] === 3)) {
                        const pulse = Math.sin(currentTime / 500) * 0.05; 
                        ctx.fillStyle = `rgba(0, 210, 255, ${Math.min(0.5, winAlpha + pulse)})`;
                        ctx.fillRect(px, py, TILE, TILE);
                    }

                    // B) SU IZGARASI
                    if (grid[y][x] === 0) {
                        ctx.strokeStyle = "rgba(0, 0, 0, 0.08)"; 
                        ctx.lineWidth = 1;
                        ctx.strokeRect(px + 0.5, py + 0.5, TILE - 1, TILE - 1);
                    }

                    // C) KARA
                    if (grid[y][x] === 1) {
                        const isLandBelow = (y < ROWS - 1 && grid[y+1][x] === 1);
                        const hasLandLeft = (x > 0 && grid[y][x-1] === 1);
                        const hasLandRight= (x < COLS - 1 && grid[y][x+1] === 1);

                        if (isLandBelow) {
                            if (typeof imgMiddle !== 'undefined' && imgMiddle) ctx.drawImage(imgMiddle, px, py, TILE, TILE);
                            else { ctx.fillStyle = "#35693f"; ctx.fillRect(px, py, TILE, TILE); }
                        } else {
                            if (!hasLandLeft && !hasLandRight) {
                                if (typeof imgSingle !== 'undefined' && imgSingle) ctx.drawImage(imgSingle, px, py, TILE, TILE);
                                else ctx.fillRect(px, py, TILE, TILE);
                            } else {
                                const useSide1 = (x % 2 === 0);
                                const imgToUse = useSide1 ? ((typeof imgSide1 !== 'undefined') ? imgSide1 : null) : ((typeof imgSide2 !== 'undefined') ? imgSide2 : null);
                                if (imgToUse) ctx.drawImage(imgToUse, px, py, TILE, TILE);
                                else ctx.fillRect(px, py, TILE, TILE);
                            }
                        }

                        const isWaterUp    = (y === 0 || grid[y-1][x] === 0);
                        const isWaterLeft = (x === 0 || grid[y][x-1] === 0);
                        const isWaterRight= (x === COLS - 1 || grid[y][x+1] === 0);
                        
                        ctx.fillStyle = "rgba(20, 40, 30, 0.5)"; 
                        const bSize = 4;
                        if(isWaterUp)    ctx.fillRect(px, py, TILE, bSize);          
                        if(isWaterLeft)  ctx.fillRect(px, py, bSize, TILE);          
                        if(isWaterRight) ctx.fillRect(px + TILE - bSize, py, bSize, TILE); 

                        ctx.strokeStyle = "rgba(0, 0, 0, 0.2)"; 
                        ctx.lineWidth = 1;
                        ctx.strokeRect(px + 0.5, py + 0.5, TILE - 1, TILE - 1);
                    }

                    // D) ŞAMANDIRA
                    else if (grid[y][x] === 2) { 
                        const key = `${y}_${x}`;
                        const spawnTime = wallSpawnTimes[key] || 0;
                        const elapsed = currentTime - spawnTime;
                        let frameIndex = 3;
                        
                        if(elapsed < 60) frameIndex = 0;
                        else if(elapsed < 120) frameIndex = 1;
                        else if(elapsed < 180) frameIndex = 2;
                        
                        // Gölge
                        ctx.fillStyle = "rgba(0,0,0,0.3)";
                        ctx.fillRect(px + 2, py + TILE - 4, TILE - 4, 4);
                        
                        // Buoy çizimi - basitleştirilmiş
                        const img = buoyFrames[frameIndex];
                        if (img) {
                            try {
                                const ratio = (img.height || 75) / (img.width || 50);
                                const drawH = TILE * ratio;
                                const drawY = (py + TILE) - drawH;
                                ctx.drawImage(img, px, drawY, TILE, drawH);
                            } catch(e) {
                                ctx.fillStyle = "#ff0000";
                                ctx.fillRect(px + 5, py + 5, TILE - 10, TILE - 10);
                            }
                        }
                        
                        if(frameIndex < 3) requestAnimationFrame(draw);
                    }

                    // E) MOBY DICK
                    else if (grid[y][x] === 3) {
                         if(mobyImg) ctx.drawImage(mobyImg, px + 2, py + 2, TILE - 4, TILE - 4);
                    }
                    
                    // F) GHOST PREVIEW
                    if (grid[y][x] === 0 && x === hoverPos.x && y === hoverPos.y && playerWalls.length < currentMaxWalls) {
                         if (x !== mobyPos.x || y !== mobyPos.y && buoyFrames[0]) {
                             ctx.save();
                             ctx.globalAlpha = 0.5;
                             const bImg = buoyFrames[0];
                             const ratio = bImg.naturalHeight / bImg.naturalWidth;
                             ctx.drawImage(bImg, px, (py+TILE)-(TILE*ratio), TILE, TILE*ratio);
                             ctx.restore();
                         }
                    }
                }
            }
            
            // --- UI METİNLERİ ---
            const mapBottomY = offsetY + (ROWS * TILE);
            const mapRightX = offsetX + (COLS * TILE);
            
            // 1. Sol Alt (Buoy)
            ctx.save(); 
            ctx.textAlign = "left";
            ctx.fillStyle = "#66bb6a"; 
            ctx.font = "22px 'Schoolbell', cursive"; 
            
            // Kalan hak ve Toplam hak hesabı
            let used = playerWalls.length;
            let remaining = currentMaxWalls - used;
            
            // Ekrana Yazdır: "Buoy: 9/10" formatında
            ctx.fillText("Buoy: " + remaining + "/" + currentMaxWalls, offsetX, mapBottomY + 30);
            ctx.restore(); 

            ctx.save(); 
            ctx.textAlign = "right"; 
            ctx.fillStyle = "#fff"; 
            ctx.font = "22px 'Schoolbell', cursive"; 
            const scoreText = gameWon ? "Area: " + finalScore : "Area: -";
            ctx.fillText(scoreText, mapRightX, mapBottomY + 30);
            ctx.restore(); 

            if (gameWon) {
                requestAnimationFrame(draw);
            }
        }

        canvas.onmousemove = (e) => {
            const rect = canvas.getBoundingClientRect();
            const x = Math.floor((e.clientX - rect.left - offsetX) / TILE);
            const y = Math.floor((e.clientY - rect.top - offsetY) / TILE);
            if(x !== hoverPos.x || y !== hoverPos.y) {
                hoverPos = {x, y};
                draw();
            }
        };
        canvas.onmouseleave = () => { hoverPos = {x: -1, y: -1}; draw(); };

        // --- MOBİL TOUCH DESTEĞİ ---
        canvas.ontouchstart = (e) => {
            e.preventDefault();
            const touch = e.touches[0];
            const rect = canvas.getBoundingClientRect();
            const x = Math.floor((touch.clientX - rect.left - offsetX) / TILE);
            const y = Math.floor((touch.clientY - rect.top - offsetY) / TILE);
            
            if(x < 0 || x >= COLS || y < 0 || y >= ROWS) return;

            if (gameWon && grid[y][x] === 2) {
                grid[y][x] = 0;
                playerWalls = playerWalls.filter(p => p.x !== x || p.y !== y);
                gameWon = false;
                winningPath = null;
                finalScore = 0;
                draw();
                return;
            }

            if (gameWon) return;

            if(grid[y][x] === 0 && playerWalls.length < currentMaxWalls) {
                wallSpawnTimes[`${y}_${x}`] = Date.now();
                grid[y][x] = 2;
                playerWalls.push({x, y});
                draw();
                checkEnclosure();
            } 
            else if(grid[y][x] === 2) {
                grid[y][x] = 0;
                playerWalls = playerWalls.filter(p => p.x !== x || p.y !== y);
                draw();
            }
        };

canvas.ontouchmove = (e) => {
    e.preventDefault();
};
        
        canvas.onclick = (e) => {
             const rect = canvas.getBoundingClientRect();
             const x = Math.floor((e.clientX - rect.left - offsetX) / TILE);
             const y = Math.floor((e.clientY - rect.top - offsetY) / TILE);
             if(x<0 || x>=COLS || y<0 || y>=ROWS) return;

             if (gameWon && grid[y][x] === 2) {
                 grid[y][x] = 0;
                 playerWalls = playerWalls.filter(p => p.x!==x || p.y!==y);
                 gameWon = false; 
                 winningPath = null;
                 finalScore = 0;
                 draw();
                 return;
             }

             if (gameWon) return; 

             if(grid[y][x] === 0 && playerWalls.length < currentMaxWalls) {
                 wallSpawnTimes[`${y}_${x}`] = Date.now();
                 grid[y][x] = 2;
                 playerWalls.push({x,y});
                 draw();
                 checkEnclosure(); 
             } 
             else if(grid[y][x] === 2) {
                 grid[y][x] = 0;
                 playerWalls = playerWalls.filter(p => p.x!==x || p.y!==y);
                 draw();
             }
        };
        
        
        function checkEnclosure() {
            if (gameWon) return;

            const visited = Array.from({ length: ROWS }, () => Array(COLS).fill(false));
            const queue = [{...mobyPos}]; 
            let escaped = false;

            while (queue.length > 0) {
                const {x, y} = queue.shift();
                
                if (x < 0 || x >= COLS || y < 0 || y >= ROWS) {
                    escaped = true; 
                    break;
                }
                
                if (visited[y][x]) continue;
                if (grid[y][x] === 1 || grid[y][x] === 2) continue;

                visited[y][x] = true;
                queue.push({x: x+1, y}, {x: x-1, y}, {x, y: y+1}, {x, y: y-1});
            }

            if (!escaped) {
                gameWon = true; 
                let areaCount = 0;
                for(let y=0; y<ROWS; y++) {
                    for(let x=0; x<COLS; x++) {
                        if (visited[y][x]) areaCount++;
                    }
                }
                finalScore = areaCount;
                triggerWinAnimation(visited);
            } 
        }

        function triggerWinAnimation(visitedMap) {
            winningPath = visitedMap; 
            winAlpha = 0;
            draw(); 
        }

        window.onresize = initLevel;
        if(resetBtn) resetBtn.onclick = initLevel;
    };
    </script>
</body>
</html>       